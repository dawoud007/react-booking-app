{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\user\\\\OneDrive\\\\Desktop\\\\Bookapp\\\\project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\user\\\\OneDrive\\\\Desktop\\\\Bookapp\\\\project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\user\\\\OneDrive\\\\Desktop\\\\Bookapp\\\\project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\user\\\\OneDrive\\\\Desktop\\\\Bookapp\\\\project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\user\\\\OneDrive\\\\Desktop\\\\Bookapp\\\\project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\OneDrive\\\\Desktop\\\\Bookapp\\\\project\\\\src\\\\App.js\";\nimport React from 'react';\nimport * as BooksAPI from './BooksAPI';\nimport './App.css';\nimport { Route } from \"react-router-dom\";\nimport Search from './components/search';\nimport Shelves2 from './components/shelves2';\n\nvar BooksApp =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BooksApp, _React$Component);\n\n  function BooksApp() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, BooksApp);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BooksApp)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      books: []\n    };\n\n    _this.updateBookPlace = function (book, shelf) {\n      BooksAPI.update(book, shelf).then(function () {\n        _this.setState(function (res) {\n          return {\n            books: prevState.books.filter(function (thisbook) {\n              if (thisbook.id == book.id) {\n                return thisbook.shelf = shelf;\n              } else {\n                return thisbook;\n              }\n            })\n          };\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(BooksApp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getAllBooks();\n    }\n  }, {\n    key: \"getAllBooks\",\n    value: function getAllBooks() {\n      var _this2 = this;\n\n      BooksAPI.getAll().then(function (res) {\n        _this2.setState({\n          books: res\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: \"app\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: function render() {\n          return React.createElement(Shelves2, {\n            books: _this3.state.books,\n            changeShelf: _this3.updateBookPlace,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 50\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/search\",\n        render: function render() {\n          return React.createElement(Search, {\n            changeShelf: _this3.updateShelf,\n            books: _this3.state.books,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return BooksApp;\n}(React.Component);\n\nexport default BooksApp;","map":{"version":3,"sources":["C:\\Users\\user\\OneDrive\\Desktop\\Bookapp\\project\\src\\App.js"],"names":["React","BooksAPI","Route","Search","Shelves2","BooksApp","state","books","updateBookPlace","book","shelf","update","then","setState","res","prevState","filter","thisbook","id","getAllBooks","getAll","updateShelf","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,QAAZ,MAA0B,YAA1B;AACA,OAAO,WAAP;AACA,SAAQC,KAAR,QAAqB,kBAArB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,QAAP,MAAqB,uBAArB;;IAIMC,Q;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,KAAK,EAAC;AADA,K;;UAeRC,e,GAAkB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AACjCT,MAAAA,QAAQ,CAACU,MAAT,CAAgBF,IAAhB,EAAsBC,KAAtB,EAA6BE,IAA7B,CAAkC,YAAM;AACtC,cAAKC,QAAL,CAAc,UAAAC,GAAG;AAAA,iBAAK;AAEpBP,YAAAA,KAAK,EAAEQ,SAAS,CAACR,KAAV,CAAgBS,MAAhB,CAAuB,UAAAC,QAAQ,EAAI;AACxC,kBAAIA,QAAQ,CAACC,EAAT,IAAeT,IAAI,CAACS,EAAxB,EAA4B;AAE1B,uBAAQD,QAAQ,CAACP,KAAT,GAAiBA,KAAzB;AACD,eAHD,MAGO;AACL,uBAAOO,QAAP;AACD;AACF,aAPM;AAFa,WAAL;AAAA,SAAjB;AAWD,OAZD;AAaD,K;;;;;;;wCA1BkB;AACrB,WAAKE,WAAL;AAGG;;;kCACY;AAAA;;AACXlB,MAAAA,QAAQ,CAACmB,MAAT,GAAkBR,IAAlB,CAAuB,UAAAE,GAAG,EAAE;AAC1B,QAAA,MAAI,CAACD,QAAL,CAAc;AAACN,UAAAA,KAAK,EAACO;AAAP,SAAd;AAED,OAHD;AAID;;;6BAmBQ;AAAA;;AAEP,aACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGE,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,GAAlB;AAAsB,QAAA,MAAM,EAAE;AAAA,iBAC5B,oBAAC,QAAD;AACA,YAAA,KAAK,EAAE,MAAI,CAACR,KAAL,CAAWC,KADlB;AAEF,YAAA,WAAW,EAAE,MAAI,CAACC,eAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAD4B;AAAA,SAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,EAUN,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,SAAZ;AAAsB,QAAA,MAAM,EAAE;AAAA,iBACpB,oBAAC,MAAD;AAAQ,YAAA,WAAW,EAAE,MAAI,CAACa,WAA1B;AACA,YAAA,KAAK,EAAE,MAAI,CAACf,KAAL,CAAWC,KADlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADoB;AAAA,SAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVM,CADF;AAkBD;;;;EArDoBP,KAAK,CAACsB,S;;AAwD7B,eAAejB,QAAf","sourcesContent":["import React from 'react'\r\nimport * as BooksAPI from './BooksAPI'\r\nimport './App.css'\r\nimport {Route } from \"react-router-dom\";\r\nimport Search from './components/search'\r\nimport Shelves2 from './components/shelves2'\r\n\r\n\r\n\r\nclass BooksApp extends React.Component {\r\n  state = {\r\n    books:[]\r\n  }\r\n  componentDidMount(){\r\nthis.getAllBooks()\r\n\r\n\r\n  }\r\n  getAllBooks(){\r\n    BooksAPI.getAll().then(res=>{\r\n      this.setState({books:res})\r\n    \r\n    })\r\n  }\r\n  \r\n  updateBookPlace = (book, shelf) => {\r\n    BooksAPI.update(book, shelf).then(() => {\r\n      this.setState(res => ({\r\n        \r\n        books: prevState.books.filter(thisbook => {\r\n          if (thisbook.id == book.id) {\r\n         \r\n            return (thisbook.shelf = shelf);\r\n          } else {\r\n            return thisbook;\r\n          }\r\n        })\r\n      }));\r\n    });\r\n  };\r\n\r\n\r\n  render() {\r\n   \r\n    return (\r\n      <div className=\"app\">\r\n        \r\n        {/* the main page */}\r\n        <Route exact path=\"/\" render={()=>(\r\n          <Shelves2\r\n          books={this.state.books}\r\n        changeShelf={this.updateBookPlace}\r\n          />\r\n        )}/>\r\n       {/* the search page */}\r\n<Route path=\"/search\" render={()=>(\r\n          <Search changeShelf={this.updateShelf}\r\n          books={this.state.books}\r\n          />\r\n        )}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default BooksApp\r\n"]},"metadata":{},"sourceType":"module"}